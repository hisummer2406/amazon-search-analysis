APP_NAME=亚马逊搜索分析
DEBUG=False
VERSION=1.0.0
ADMIN_SECRET_KEY=change-me-in-production

# ========================================
# 数据库连接池配置
# ========================================
# 连接池大小：每个 worker 约需要 0.5-1 个连接
# 2C4G RDS 建议值: 8-12
# 4C8G RDS 建议值: 16-24
DB_POOL_SIZE=8
# 最大溢出连接数：允许超过 pool_size 的额外连接
DB_MAX_OVERFLOW=12
# 连接获取超时（秒）
DB_POOL_TIMEOUT=30
# 连接回收时间（秒）：防止 PostgreSQL 长连接闲置被断开
DB_POOL_RECYCLE=1800
# 连接预检：使用连接前先 ping 检查有效性
DB_POOL_PRE_PING=True
# SQL 日志：开发环境可开启，生产环境建议关闭
DB_ECHO=False
# 查询超时时间（秒）
DB_QUERY_TIMEOUT=30

# ========================================
# 数据库连接配置
# ========================================
# Docker 本地开发
# DATABASE_URL=postgresql://postgres:pwd123@localhost/amazon_search
# DATABASE_URL_ASYNC=postgresql+asyncpg://postgres:pwd123@localhost/amazon_search
# DATABASE_SCHEMA=analysis

# 阿里云 RDS PostgreSQL
# DATABASE_URL=postgresql://postgres:password@pgm-bp1pj6573n99v582po.pg.rds.aliyuncs.com/amazon_search
# DATABASE_URL_ASYNC=postgresql+asyncpg://postgres:password@pgm-bp1pj6573n99v582po.pg.rds.aliyuncs.com/amazon_search
# DATABASE_SCHEMA=analysis

# redis (可选，用于缓存)
# REDIS_URL=redis://localhost:6379/0

# 上传配置
UPLOAD_DIR=uploads
MAX_FILE_SIZE=3221225472

# ========================================
# 批处理配置 (针对 50 万行/批次优化)
# ========================================
BATCH_SIZE=10000
#小批次提交数量
MINIBATCH_SIZE=500
#工作进程数
MAX_WORKERS=2
#多进程处理文件大小
MULTIPROCESSING_THRESHOLD_MB=100.0
# 文件分块行数
FILE_SPLIT_LINES=100000